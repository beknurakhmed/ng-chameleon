/* ng-chameleon — Material Design 3 Theme
   Exact values from @angular/material 17 M3 spec.
   Apply: <body class="ch-theme-material"> or ThemeService.setTheme('material')
*/
@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Roboto+Mono:wght@400;500&display=swap');
@import './base.css';

.ch-theme-material,
[data-ch-theme='material'] {
  --ch-font-body:    'Roboto', -apple-system, BlinkMacSystemFont, sans-serif;
  --ch-font-heading: 'Roboto', -apple-system, BlinkMacSystemFont, sans-serif;
  --ch-font-mono:    'Roboto Mono', 'Courier New', monospace;
  --ch-primary-50:   #f3e5f5; --ch-primary-100: #e1bee7; --ch-primary-200: #ce93d8;
  --ch-primary-300:  #ba68c8; --ch-primary-400: #ab47bc; --ch-primary-500: #9c27b0;
  --ch-primary-600:  #8e24aa; --ch-primary-700: #7b1fa2; --ch-primary-800: #6a1b9a;
  --ch-primary-900:  #4a148c;
  --ch-primary:        #6750A4;
  --ch-primary-hover:  #7965AF;
  --ch-primary-subtle: #EADDFF;
  --ch-primary-fg:     #FFFFFF;
  --ch-secondary:        #625B71;
  --ch-secondary-hover:  #7A7289;
  --ch-secondary-subtle: #E8DEF8;
  --ch-success:        #386A20; --ch-success-hover: #255012;
  --ch-success-subtle: #C3F0A2; --ch-success-fg: #FFFFFF;
  --ch-warning:        #765A00; --ch-warning-hover: #5B4400;
  --ch-warning-subtle: #FFDF99; --ch-warning-fg: #FFFFFF;
  --ch-error:          #B3261E; --ch-error-hover:  #8C1D18;
  --ch-error-subtle:   #F9DEDC; --ch-error-fg:    #FFFFFF;
  --ch-info:           #006781; --ch-info-hover:   #004D61;
  --ch-info-subtle:    #B8EAFF; --ch-info-fg:     #FFFFFF;
  --ch-bg:             #FFFBFE;
  --ch-bg-subtle:      #F4EFF4;
  --ch-bg-elevated:    #FFFBFE;
  --ch-bg-overlay:     rgba(0,0,0,0.5);
  --ch-text:           #1C1B1F;
  --ch-text-subtle:    #49454F;
  --ch-text-muted:     #79747E;
  --ch-text-disabled:  rgba(28,27,31,0.38);
  --ch-text-inverse:   #FFFFFF;
  --ch-border:         #CAC4D0;
  --ch-border-strong:  #79747E;
  --ch-border-focus:   var(--ch-primary);
  --ch-radius-none: 0;     --ch-radius-sm:   4px;
  --ch-radius-md:   12px;  --ch-radius-lg:   16px;
  --ch-radius-xl:   28px;  --ch-radius-2xl:  28px;  --ch-radius-full: 9999px;
  --ch-shadow-xs: none;
  --ch-shadow-sm: 0px 1px 2px rgba(0,0,0,.3), 0px 1px 3px 1px rgba(0,0,0,.15);
  --ch-shadow-md: 0px 1px 2px rgba(0,0,0,.3), 0px 2px 6px 2px rgba(0,0,0,.15);
  --ch-shadow-lg: 0px 4px 8px 3px rgba(0,0,0,.15), 0px 1px 3px rgba(0,0,0,.3);
  --ch-shadow-xl: 0px 6px 10px 4px rgba(0,0,0,.15), 0px 2px 3px rgba(0,0,0,.3);
  --ch-space-0:0; --ch-space-1:4px; --ch-space-2:8px; --ch-space-3:12px;
  --ch-space-4:16px; --ch-space-5:20px; --ch-space-6:24px; --ch-space-8:32px;
  --ch-space-10:40px; --ch-space-12:48px; --ch-space-16:64px; --ch-space-20:80px;
  --ch-text-xs:.75rem; --ch-text-sm:.875rem; --ch-text-md:1rem;
  --ch-text-lg:1.125rem; --ch-text-xl:1.375rem; --ch-text-2xl:1.5rem;
  --ch-text-3xl:2rem; --ch-text-4xl:2.8125rem;
  --ch-leading-tight:1.2; --ch-leading-normal:1.5; --ch-leading-loose:1.75;
  --ch-weight-normal:400; --ch-weight-medium:500; --ch-weight-semibold:600; --ch-weight-bold:700;
  --ch-duration-fast:200ms; --ch-duration-base:300ms; --ch-duration-slow:500ms;
  --ch-transition: cubic-bezier(0.2,0,0,1);
  --ch-transition-fast: 200ms cubic-bezier(0.2,0,0,1);
  --ch-transition-base: 300ms cubic-bezier(0.2,0,0,1);
  --ch-transition-slow: 500ms cubic-bezier(0.2,0,0,1);
  --ch-z-dropdown:1000; --ch-z-sticky:1020; --ch-z-fixed:1030;
  --ch-z-backdrop:1040; --ch-z-modal:1050; --ch-z-popover:1060;
  --ch-z-tooltip:1070; --ch-z-toast:1080;
  --ch-btn-height-sm:32px; --ch-btn-height-md:40px; --ch-btn-height-lg:48px;
  --ch-btn-px-sm:12px; --ch-btn-px-md:24px; --ch-btn-px-lg:32px;
  --ch-btn-radius: var(--ch-radius-full);
  --ch-btn-font-weight: var(--ch-weight-medium);
  --ch-input-height-sm:40px; --ch-input-height-md:56px; --ch-input-height-lg:64px;
  --ch-input-px:16px;
  --ch-input-border: var(--ch-border-strong);
  --ch-input-border-focus: var(--ch-primary);
  --ch-input-bg: transparent;
  --ch-input-radius: 4px;
  --ch-input-ring: none;
  --ch-card-bg:      color-mix(in srgb, var(--ch-primary) 5%, var(--ch-bg));
  --ch-card-border:  transparent;
  --ch-card-radius:  16px;
  --ch-card-shadow:  none;
  --ch-card-padding: var(--ch-space-4);
  --ch-badge-radius: var(--ch-radius-full);
  --ch-badge-font-size: .6875rem;
  --ch-badge-font-weight: var(--ch-weight-medium);
  --ch-badge-px:6px; --ch-badge-py:2px;

  /* ── M3 Surface & State Layer System ──────────────────────── */
  --ch-on-primary: #FFFFFF;
  --ch-on-primary-container: #21005D;
  --ch-on-secondary: #FFFFFF;
  --ch-on-secondary-container: #1D192B;
  --ch-on-error: #FFFFFF;
  --ch-on-error-container: #410E0B;
  --ch-surface-variant: #E7E0EC;
  --ch-on-surface-variant: #49454F;
  --ch-outline: #79747E;
  --ch-outline-variant: #CAC4D0;

  /* ── M3 Elevation Tinted Surfaces ─────────────────────────── */
  --ch-elevation-1: color-mix(in srgb, var(--ch-primary) 5%, var(--ch-bg));
  --ch-elevation-2: color-mix(in srgb, var(--ch-primary) 8%, var(--ch-bg));
  --ch-elevation-3: color-mix(in srgb, var(--ch-primary) 11%, var(--ch-bg));
  --ch-elevation-4: color-mix(in srgb, var(--ch-primary) 12%, var(--ch-bg));
  --ch-elevation-5: color-mix(in srgb, var(--ch-primary) 14%, var(--ch-bg));

  /* ── M3 Button Tokens ─────────────────────────────────────── */
  --ch-btn-letter-spacing: 0.01em;
  --ch-btn-shadow: none;
  --ch-btn-outline-border: var(--ch-primary);

  /* ── M3 Alert ─────────────────────────────────────────────── */
  --ch-alert-radius: 12px;

  /* ── M3 Card Header ───────────────────────────────────────── */
  --ch-card-header-border: transparent;

  /* ── M3 Input Hover ───────────────────────────────────────── */
  --ch-input-hover-border: var(--ch-input-border);
}

.ch-theme-material.dark,
[data-ch-theme='material'][data-ch-color-mode='dark'] {
  --ch-primary:#D0BCFF; --ch-primary-hover:#E8DEF8;
  --ch-primary-subtle:#4F378B; --ch-primary-fg:#381E72;
  --ch-bg:#1C1B1F; --ch-bg-subtle:#49454F; --ch-bg-elevated:#2B2930;
  --ch-text:#E6E1E5; --ch-text-subtle:#CAC4D0; --ch-text-muted:#938F99;
  --ch-border:#49454F; --ch-border-strong:#938F99;
  --ch-error:#F2B8B5; --ch-error-subtle:#8C1D18;
  --ch-card-bg: color-mix(in srgb, var(--ch-primary) 5%, #1C1B1F);

  /* M3 dark surface/elevation */
  --ch-surface-variant: #49454F;
  --ch-on-surface-variant: #CAC4D0;
  --ch-outline: #938F99;
  --ch-outline-variant: #49454F;
  --ch-elevation-1: color-mix(in srgb, var(--ch-primary) 5%, #1C1B1F);
  --ch-elevation-2: color-mix(in srgb, var(--ch-primary) 8%, #1C1B1F);
  --ch-elevation-3: color-mix(in srgb, var(--ch-primary) 11%, #1C1B1F);
  --ch-elevation-4: color-mix(in srgb, var(--ch-primary) 12%, #1C1B1F);
  --ch-elevation-5: color-mix(in srgb, var(--ch-primary) 14%, #1C1B1F);
}

/* ══ M3 State Layer Bridge ════════════════════════════════════════
   Extracted from @angular/material button/_button-base.scss
   M3 uses state layers: hover=8%, focus=10%, pressed=10%
   ═══════════════════════════════════════════════════════════════ */

/* State layer pseudo-element for M3 buttons */
.ch-theme-material ch-button,
[data-ch-theme='material'] ch-button {
  position: relative;
  overflow: hidden;
}
.ch-theme-material ch-button::before,
[data-ch-theme='material'] ch-button::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background-color: currentColor;
  opacity: 0;
  transition: opacity 200ms cubic-bezier(0.2, 0, 0, 1);
  pointer-events: none;
}
.ch-theme-material ch-button:hover::before,
[data-ch-theme='material'] ch-button:hover::before {
  opacity: 0.08;  /* M3 hover state layer */
}
.ch-theme-material ch-button:focus-visible::before,
[data-ch-theme='material'] ch-button:focus-visible::before {
  opacity: 0.10;  /* M3 focus state layer */
}
.ch-theme-material ch-button:active::before,
[data-ch-theme='material'] ch-button:active::before {
  opacity: 0.10;  /* M3 pressed state layer */
}

/* M3 ripple element (simplified CSS-only ripple) */
@keyframes ch-m3-ripple {
  0%   { transform: scale(0); opacity: 0.12; }
  100% { transform: scale(2.5); opacity: 0; }
}

/* M3 overlay backdrop transition — from @angular/cdk */
@keyframes ch-m3-fade-in {
  0%   { opacity: 0; }
  100% { opacity: 1; }
}

/* M3 surface tint for elevated cards */
.ch-theme-material ch-card,
[data-ch-theme='material'] ch-card {
  position: relative;
}
.ch-theme-material ch-card.ch-card--elevated::before,
[data-ch-theme='material'] ch-card.ch-card--elevated::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: var(--ch-primary);
  opacity: 0.05;
  pointer-events: none;
}
